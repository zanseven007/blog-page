<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  <meta http-equiv="X-UA-Compatible" content="IE=edge" >
  <title>丁香园工作中一些常用的代码 | 赞鱼鱼的挖坑生活</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <link rel="search" type="application/opensearchdescription+xml" href="http://7xljz9.com1.z0.glb.clouddn.com/search.xml?123" title="赞鱼鱼的博客">
  <meta name="description" content="本文主要是我入职以来在E-marketing项目中常用到的一些控件使用，兼容方法，交互效果的说明和使用方法，欢迎大家对本文进行更改或者补充，下文中所有require()的类库均可在各个E-marketing项目中找到，可以直接copy到自己项目中使用。">
<meta property="og:type" content="article">
<meta property="og:title" content="丁香园工作中一些常用的代码">
<meta property="og:url" content="http://blogpage.js.org/2016/09/09/丁香园工作中一些常用的代码/index.html">
<meta property="og:site_name" content="赞鱼鱼的挖坑生活">
<meta property="og:description" content="本文主要是我入职以来在E-marketing项目中常用到的一些控件使用，兼容方法，交互效果的说明和使用方法，欢迎大家对本文进行更改或者补充，下文中所有require()的类库均可在各个E-marketing项目中找到，可以直接copy到自己项目中使用。">
<meta property="og:updated_time" content="2016-11-02T09:29:47.000Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="丁香园工作中一些常用的代码">
<meta name="twitter:description" content="本文主要是我入职以来在E-marketing项目中常用到的一些控件使用，兼容方法，交互效果的说明和使用方法，欢迎大家对本文进行更改或者补充，下文中所有require()的类库均可在各个E-marketing项目中找到，可以直接copy到自己项目中使用。">
  
    <link rel="alternative" href="/atom.xml" title="赞鱼鱼的挖坑生活" type="application/atom+xml">
  
  
    <link rel="icon" href="//favicon.png">
  
  <link rel="stylesheet" href="/css/style.css">
</head>

<body>
  <div id="container">
    <div class="left-col">
    <div class="overlay"></div>
<div class="intrude-less">
	<header id="header" class="inner">
		<a href="/" class="profilepic">
			
			<img lazy-src="/img/cool.jpg" class="js-avatar">
			
		</a>

		<hgroup>
		  <h1 class="header-author"><a href="/">赞鱼鱼</a></h1>
		</hgroup>

		
		<p class="header-subtitle">一个程序员的填坑生活，是真的gay</p>
		

		
			<div class="switch-btn">
				<div class="icon">
					<div class="icon-ctn">
						<div class="icon-wrap icon-house" data-idx="0">
							<div class="birdhouse"></div>
							<div class="birdhouse_holes"></div>
						</div>
						<div class="icon-wrap icon-ribbon hide" data-idx="1">
							<div class="ribbon"></div>
						</div>
						
						<div class="icon-wrap icon-link hide" data-idx="2">
							<div class="loopback_l"></div>
							<div class="loopback_r"></div>
						</div>
						
						
						<div class="icon-wrap icon-me hide" data-idx="3">
							<div class="user"></div>
							<div class="shoulder"></div>
						</div>
						
					</div>
					
				</div>
				<div class="tips-box hide">
					<div class="tips-arrow"></div>
					<ul class="tips-inner">
						<li>菜单</li>
						<li>标签</li>
						
						<li>友情链接</li>
						
						
						<li>关于我</li>
						
					</ul>
				</div>
			</div>
		

		<div class="switch-area">
			<div class="switch-wrap">
				<section class="switch-part switch-part1">
					<nav class="header-menu">
						<ul>
						
							<li><a href="/">主页</a></li>
				        
							<li><a href="/archives">所有文章</a></li>
				        
							<li><a href="http://resume.zanyuyu.com">简历</a></li>
				        
						</ul>
					</nav>
					<nav class="header-nav">
						<div class="social">
							
								<a class="github" target="_blank" href="https://github.com/zanseven007" title="github">github</a>
					        
								<a class="weibo" target="_blank" href="http://www.weibo.com/zanyuyu" title="weibo">weibo</a>
					        
								<a class="zhihu" target="_blank" href="https://www.zhihu.com/people/zan-yu-yu-35" title="zhihu">zhihu</a>
					        
						</div>
					</nav>
				</section>
				
				
				<section class="switch-part switch-part2">
					<div class="widget tagcloud" id="js-tagcloud">
						<a href="/tags/chrome/" style="font-size: 10px;">chrome</a> <a href="/tags/github/" style="font-size: 10px;">github</a> <a href="/tags/mac/" style="font-size: 10px;">mac</a> <a href="/tags/丁香园/" style="font-size: 12.5px;">丁香园</a> <a href="/tags/个人/" style="font-size: 17.5px;">个人</a> <a href="/tags/前端/" style="font-size: 20px;">前端</a> <a href="/tags/复制粘贴专用/" style="font-size: 15px;">复制粘贴专用</a> <a href="/tags/性能/" style="font-size: 10px;">性能</a> <a href="/tags/猫/" style="font-size: 10px;">猫</a> <a href="/tags/生活/" style="font-size: 12.5px;">生活</a> <a href="/tags/网络/" style="font-size: 10px;">网络</a>
					</div>
				</section>
				
				
				
				<section class="switch-part switch-part3">
					<div id="js-friends">
					
			          <a target="_blank" class="main-nav-link switch-friends-link" href="https://www.anotherhome.net/">anotherhome</a>
			        
			          <a target="_blank" class="main-nav-link switch-friends-link" href="http://muguang.me/">暮光博客</a>
			        
			          <a target="_blank" class="main-nav-link switch-friends-link" href="http://shawblog.me/">大撸子の狗窝</a>
			        
			          <a target="_blank" class="main-nav-link switch-friends-link" href="http://itsay.tech">张大侠</a>
			        
			        </div>
				</section>
				

				
				
				<section class="switch-part switch-part4">
				
					<div id="js-aboutme">
						<p>1993年生，四川人，前端小萌新</p>
						<p>爱好：coding，音乐，动漫</p>
						<p>现居地：杭州， 公司：丁香园</p>
					</div>
				</section>
				
			</div>
		</div>
	</header>				
</div>

    </div>
    <div class="mid-col">
      <nav id="mobile-nav">
  	<div class="overlay">
  		<div class="slider-trigger"></div>
  		<h1 class="header-author js-mobile-header hide">赞鱼鱼</h1>
  	</div>
	<div class="intrude-less">
		<header id="header" class="inner">
			<div class="profilepic">
				
					<img lazy-src="/img/cool.jpg" class="js-avatar">
				
			</div>
			<hgroup>
			  <h1 class="header-author">赞鱼鱼</h1>
			</hgroup>
			
			<p class="header-subtitle">一个程序员的填坑生活，是真的gay</p>
			
			<nav class="header-menu">
				<ul>
				
					<li><a href="/">主页</a></li>
		        
					<li><a href="/archives">所有文章</a></li>
		        
					<li><a href="http://resume.zanyuyu.com">简历</a></li>
		        
		        <div class="clearfix"></div>
				</ul>
			</nav>
			<nav class="header-nav">
				<div class="social">
					
						<a class="github" target="_blank" href="https://github.com/zanseven007" title="github">github</a>
			        
						<a class="weibo" target="_blank" href="http://www.weibo.com/zanyuyu" title="weibo">weibo</a>
			        
						<a class="zhihu" target="_blank" href="https://www.zhihu.com/people/zan-yu-yu-35" title="zhihu">zhihu</a>
			        
				</div>
			</nav>
		</header>				
	</div>
</nav>

      <div class="body-wrap"><article id="post-丁香园工作中一些常用的代码" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2016/09/09/丁香园工作中一些常用的代码/" class="article-date">
  	<time datetime="2016-09-09T08:04:22.000Z" itemprop="datePublished">2016-09-09</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 class="article-title" itemprop="name">
      丁香园工作中一些常用的代码
    </h1>
  

      </header>
      
      <div class="article-info article-info-post">
        
	<div class="article-tag tagcloud">
		<ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/丁香园/">丁香园</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/前端/">前端</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/复制粘贴专用/">复制粘贴专用</a></li></ul>
	</div>

        

        <div class="clearfix"></div>
      </div>
      
    
    <div class="article-entry" itemprop="articleBody">
      
        <script src="/assets/js/DPlayer.min.js"> </script><p>本文主要是我入职以来在E-marketing项目中常用到的一些控件使用，兼容方法，交互效果的说明和使用方法，欢迎大家对本文进行更改或者补充，下文中所有<code>require()</code>的类库均可在各个E-marketing项目中找到，可以直接copy到自己项目中使用。<br><a id="more"></a></p>
<h1 id="目录"><a href="#目录" class="headerlink" title="目录"></a>目录</h1><ol>
<li><em><a href="#判断是否IE8">判断是否IE8</a></em></li>
<li><em><a href="#IE8修复placeholder">IE8修复placeholder</a></em></li>
<li><em><a href="#IE8 box-shadow兼容">IE8 box-shaadow兼容</a></em></li>
<li><em><a href="#IE8 rgba兼容">IE8 rgba兼容</a></em></li>
<li><em><a href="#分享组件使用">分享组件使用</a></em></li>
<li><em><a href="#地址选择控件">地址选择控件</a></em></li>
<li><em><a href="#医院选择控件">医院选择控件</a></em></li>
<li><em><a href="#科室选择控件">科室选择控件</a></em></li>
<li><em><a href="#职称选择控件">职称选择控件</a></em></li>
<li><em><a href="#判断是否移动端">判断是否移动端</a></em></li>
<li><em><a href="#获取内页文章ID">获取内页文章ID</a></em></li>
<li><em><a href="#validate插件扩展">validate插件扩展</a></em></li>
<li><em><a href="#validate插件使用">validate插件使用</a></em></li>
<li><em><a href="#bxslider轮播图使用">bxslider轮播图使用</a></em></li>
<li><em><a href="#一般选项卡">一般选项卡</a></em></li>
<li><em><a href="#新窗口打开页面">新窗口打开页面</a></em></li>
<li><em><a href="#滚动到指定位置滑动动画">滚动到指定位置滑动动画</a></em></li>
<li><em><a href="#对话框控件使用">对话框控件使用</a></em></li>
<li><em><a href="#移动端PPT使用">移动端PPT使用</a></em></li>
<li><em><a href="#即将离开丁香园提示框">即将离开丁香园提示框</a></em></li>
<li><em><a href="#滚动条插件">滚动条插件</a></em></li>
<li><em><a href="#微信分享">微信分享</a></em></li>
<li><em><a href="#移动端多行显示省略号">移动端多行显示省略号</a></em></li>
<li><em><a href="#iframe高度自适应">iframe高度自适应</a></em></li>
</ol>
<h2 id="1-判断是否IE8"><a href="#1-判断是否IE8" class="headerlink" title="1.判断是否IE8"></a><a name="判断是否IE8"></a>1.判断是否IE8</h2><figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line"></div><div class="line"><span class="keyword">var</span> isIE=!!<span class="built_in">window</span>.ActiveXObject; </div><div class="line"><span class="keyword">var</span> isIE8=isIE&amp;&amp;!!<span class="built_in">document</span>.documentMode;</div><div class="line"><span class="comment">//使用</span></div><div class="line"><span class="keyword">if</span>(isIE8)&#123;</div><div class="line">    <span class="comment">//do something</span></div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h2 id="2-IE8修复placeholder"><a href="#2-IE8修复placeholder" class="headerlink" title="2.IE8修复placeholder"></a><a name="IE8修复placeholder"></a>2.IE8修复placeholder</h2><figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div></pre></td><td class="code"><pre><div class="line"></div><div class="line"><span class="comment">//placeholder兼容</span></div><div class="line"><span class="keyword">var</span> JPlaceHolder = &#123;</div><div class="line">  <span class="comment">//检测</span></div><div class="line">  _check : <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</div><div class="line">      <span class="keyword">return</span> <span class="string">'placeholder'</span> <span class="keyword">in</span> <span class="built_in">document</span>.createElement(<span class="string">'input'</span>);</div><div class="line">  &#125;,</div><div class="line">  <span class="comment">//初始化</span></div><div class="line">  init : <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</div><div class="line">      <span class="keyword">if</span>(!<span class="keyword">this</span>._check())&#123;</div><div class="line">          <span class="keyword">this</span>.fix();</div><div class="line">      &#125;</div><div class="line">  &#125;,</div><div class="line">  <span class="comment">//修复</span></div><div class="line">  fix : <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</div><div class="line">      jQuery(<span class="string">':input[placeholder]'</span>).each(<span class="function"><span class="keyword">function</span>(<span class="params">index, element</span>) </span>&#123;</div><div class="line">          <span class="keyword">var</span> self = $(<span class="keyword">this</span>), txt = self.attr(<span class="string">'placeholder'</span>);</div><div class="line">          self.attr(<span class="string">'placeholder'</span>,<span class="string">''</span>);</div><div class="line">          self.wrap($(<span class="string">'&lt;div&gt;&lt;/div&gt;'</span>).css(&#123;position:<span class="string">'relative'</span>, zoom:<span class="string">'1'</span>, border:<span class="string">'none'</span>, background:<span class="string">'none'</span>, padding:<span class="string">'none'</span>, margin:<span class="string">'none'</span>&#125;));</div><div class="line">          <span class="keyword">var</span> pos = self.position(), h = self.outerHeight(<span class="literal">true</span>), paddingleft = self.css(<span class="string">'padding-left'</span>);</div><div class="line">          <span class="keyword">var</span> holder = $(<span class="string">'&lt;span&gt;&lt;/span&gt;'</span>).text(txt).css(&#123;position:<span class="string">'absolute'</span>, left:pos.left, top:pos.top, height:h, lineHeight:h+<span class="string">'px'</span>, paddingLeft:paddingleft, color:<span class="string">'#aaa'</span>,width:<span class="string">'100%'</span>,display:<span class="string">'block'</span>&#125;).appendTo(self.parent());</div><div class="line">          self.focus(<span class="function"><span class="keyword">function</span>(<span class="params">e</span>) </span>&#123;</div><div class="line">              holder.hide();</div><div class="line">          &#125;).blur(<span class="function"><span class="keyword">function</span>(<span class="params">e</span>) </span>&#123;</div><div class="line">              <span class="keyword">if</span>(!self.val())&#123;</div><div class="line">                  holder.show();</div><div class="line">              &#125;</div><div class="line">          &#125;);</div><div class="line">          holder.click(<span class="function"><span class="keyword">function</span>(<span class="params">e</span>) </span>&#123;</div><div class="line">              holder.hide();</div><div class="line">              self.focus();</div><div class="line">          &#125;);</div><div class="line">      &#125;);</div><div class="line">  &#125;</div><div class="line">&#125;;</div><div class="line"><span class="comment">//使用</span></div><div class="line">JPlaceHolder.init();</div></pre></td></tr></table></figure>
<h2 id="3-IE8-box-shadow兼容"><a href="#3-IE8-box-shadow兼容" class="headerlink" title="3.IE8 box-shadow兼容"></a><a name="IE8 box-shadow兼容"></a>3.IE8 box-shadow兼容</h2><figure class="highlight css"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line"></div><div class="line"><span class="selector-class">.shaded</span> &#123; </div><div class="line">    <span class="attribute">background-color</span>: <span class="number">#fff</span>;</div><div class="line">    <span class="attribute">zoom</span>: <span class="number">1</span>; </div><div class="line">    <span class="attribute">filter</span>: progid:DXImageTransform.Microsoft.<span class="built_in">Shadow</span>(color=<span class="string">'#aaaaaa'</span>, Direction=135, Strength=6);</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"></div><div class="line"><span class="comment">//使用</span></div><div class="line"><span class="keyword">if</span>(isIE8)&#123;</div><div class="line">    $(<span class="string">'选择器'</span>).addClass(<span class="string">'shaded'</span>);</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h2 id="4-IE8-rgba兼容"><a href="#4-IE8-rgba兼容" class="headerlink" title="4.IE8 rgba兼容"></a><a name="IE8 rgba兼容"></a>4.IE8 rgba兼容</h2><figure class="highlight"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line"></div><div class="line">//其格式为 #AARRGGBB 。 AA 、 RR 、 GG 、 BB 为十六进制正整数。取值范围为 00 - FF 。 RR 指定红色值， GG 指定绿色值， BB 指定蓝色值。</div><div class="line">//参阅 #RRGGBB 颜色单位。 AA 指定透明度。 00 是完全透明。 FF 是完全不透明。超出取值范围的值将被恢复为默认值。</div><div class="line"></div><div class="line">filter:progid:DXImageTransform.Microsoft.gradient(startColorstr=#7f000000,endColorstr=#7f000000);</div><div class="line">//使用，直接在css里面加入就好</div></pre></td></tr></table></figure>
<h2 id="5-分享组件使用"><a href="#5-分享组件使用" class="headerlink" title="5.分享组件使用"></a><a name="分享组件使用"></a>5.分享组件使用</h2><figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div></pre></td><td class="code"><pre><div class="line"></div><div class="line"><span class="keyword">var</span> share = <span class="built_in">require</span>(<span class="string">'./dxy_share.js'</span>);</div><div class="line"><span class="comment">//使用</span></div><div class="line"><span class="keyword">var</span> shareContainer = $(<span class="string">'放置容器'</span>); <span class="comment">//给一个放置容器，其他事情控件会帮你完成</span></div><div class="line">    <span class="keyword">if</span> (shareContainer.length) &#123;</div><div class="line">        shareContainer.attr(<span class="string">'id'</span>,<span class="string">'to-share'</span>);</div><div class="line">        <span class="keyword">new</span> share().show(&#123;</div><div class="line">            id: <span class="string">'to-share'</span>,</div><div class="line">            lst: [<span class="string">'weixin'</span>, <span class="string">'sina'</span>, <span class="string">'tt'</span>, <span class="string">'qzone'</span>, <span class="string">'douban'</span>], <span class="comment">//需要分享到的社区列表</span></div><div class="line">            style: <span class="number">3</span>    <span class="comment">//有许多不同的样式可以选择</span></div><div class="line">        &#125;);</div><div class="line">&#125;</div><div class="line">  <span class="comment">//sina: '新浪微博',</span></div><div class="line">  <span class="comment">//tt: '腾讯微博',</span></div><div class="line">  <span class="comment">//douban: '豆瓣',</span></div><div class="line">  <span class="comment">//renren: '人人网',</span></div><div class="line">  <span class="comment">//qzone: 'QQ空间',</span></div><div class="line">  <span class="comment">//idxy: '丁香客',</span></div><div class="line">  <span class="comment">//kaixin: '开心网',</span></div><div class="line">  <span class="comment">//weixin: '微信',</span></div><div class="line">  <span class="comment">//favorite: '收藏夹'</span></div></pre></td></tr></table></figure>
<p>现在已经被 DIYgod 优化更新，详细使用方法请见<a href="https://github.com/dxy-biz-developer/dxy-share" target="_blank" rel="external">dxy-share</a>   </p>
<h2 id="6-地址选择控件"><a href="#6-地址选择控件" class="headerlink" title="6.地址选择控件"></a><a name="地址选择控件"></a>6.地址选择控件</h2><figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div></pre></td><td class="code"><pre><div class="line"></div><div class="line"><span class="keyword">var</span> Cascading = <span class="built_in">require</span>(<span class="string">'../lib/Cascading.full.js'</span>);</div><div class="line"></div><div class="line"><span class="comment">//桌面版地址</span></div><div class="line"><span class="keyword">var</span> cascadeLocation = <span class="keyword">new</span> Cascading.Desktop(&#123;</div><div class="line">   type: <span class="string">'common'</span>,</div><div class="line">   data: <span class="string">'dataLocation'</span>,</div><div class="line">   dataUrl: <span class="string">'http://assets.dxycdn.com/core/widgets/cascading-list-v2/data/location.js?t=123'</span>,</div><div class="line">   container: <span class="string">'cascading-location-container'</span>,</div><div class="line">   additionClass: <span class="string">'test'</span>,</div><div class="line">   maxLevel: <span class="number">3</span>,</div><div class="line">   maxSelect: <span class="number">1</span>,</div><div class="line">   ieFallback: <span class="literal">true</span>,</div><div class="line">   panelNames: [<span class="string">'省份'</span>, <span class="string">'城市'</span>, <span class="string">'区县'</span>],</div><div class="line">   defaultSelected: [[<span class="string">'150000'</span>, <span class="string">'150600'</span>, <span class="string">'150621'</span>], [<span class="string">'130000'</span>, <span class="string">'130200'</span>, <span class="string">'130281'</span>]],</div><div class="line">   confirmCallback: <span class="function"><span class="keyword">function</span>(<span class="params">data</span>)</span>&#123;</div><div class="line">       $(<span class="string">'#edit-field-ge-city-und-0-value'</span>).next(<span class="string">'.error'</span>).hide();</div><div class="line">       $(<span class="string">'#edit-field-ge-city-und-0-value'</span>).val(data.pathName[<span class="number">0</span>].join(<span class="string">'&gt;'</span>));</div><div class="line">       <span class="keyword">if</span>(isIE8 &amp;&amp; $(<span class="string">'#edit-field-ge-city-und-0-value'</span>).val())&#123;</div><div class="line">           $(<span class="string">'#edit-field-ge-city-und-0-value'</span>).next(<span class="string">'span'</span>).hide();</div><div class="line">       &#125;</div><div class="line">   &#125;</div><div class="line">&#125;);</div><div class="line">$(<span class="string">'#edit-field-ge-city-und-0-value'</span>).on(<span class="string">'focus'</span>, <span class="function"><span class="keyword">function</span>(<span class="params">e</span>)</span>&#123;</div><div class="line">   cascadeLocation.open();</div><div class="line">   <span class="keyword">this</span>.blur();</div><div class="line">&#125;);</div><div class="line"><span class="comment">//移动版地址</span></div><div class="line"><span class="keyword">var</span> cascadeLocationMobile = <span class="keyword">new</span> Cascading.Mobile(&#123;</div><div class="line">   type: <span class="string">'common'</span>,</div><div class="line">   data: <span class="string">'dataLocation'</span>,</div><div class="line">   dataUrl: <span class="string">'http://assets.dxycdn.com/core/widgets/cascading-list-v2/data/location.js?t=123'</span>,</div><div class="line">   container: <span class="string">'cascading-location-mobile-container'</span>,</div><div class="line">   additionClass: <span class="string">'test'</span>,</div><div class="line">   maxLevel: <span class="number">3</span>,</div><div class="line">   maxSelect: <span class="number">1</span>,</div><div class="line">   ieFallback: <span class="literal">true</span>,</div><div class="line">   panelNames: [<span class="string">'省份'</span>, <span class="string">'城市'</span>, <span class="string">'区县'</span>],</div><div class="line">   defaultSelected: [[<span class="string">'150000'</span>, <span class="string">'150600'</span>, <span class="string">'150621'</span>], [<span class="string">'130000'</span>, <span class="string">'130200'</span>, <span class="string">'130281'</span>]],</div><div class="line">   confirmCallback: <span class="function"><span class="keyword">function</span>(<span class="params">data</span>)</span>&#123;</div><div class="line">     $(<span class="string">'#edit-field-ge-city-und-0-value'</span>).val(data.pathName[<span class="number">0</span>].join(<span class="string">'&gt;'</span>));</div><div class="line">     $(<span class="string">'#edit-field-ge-city-und-0-value'</span>).next(<span class="string">'.error'</span>).hide();</div><div class="line">   &#125;</div><div class="line"> &#125;);</div><div class="line"></div><div class="line">  $(<span class="string">'#edit-field-ge-city-und-0-value'</span>).on(<span class="string">'focus'</span>, <span class="function"><span class="keyword">function</span>(<span class="params">e</span>)</span>&#123;</div><div class="line">    cascadeLocationMobile.open();</div><div class="line">    <span class="keyword">this</span>.blur();</div><div class="line"></div><div class="line">  &#125;);</div></pre></td></tr></table></figure>
<figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">      </div><div class="line">//HTML内容</div><div class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"bottom-input-box"</span>&gt;</span></div><div class="line">  <span class="tag">&lt;<span class="name">label</span> <span class="attr">for</span>=<span class="string">""</span>&gt;</span>邮寄地址<span class="tag">&lt;/<span class="name">label</span>&gt;</span></div><div class="line">  <span class="tag">&lt;<span class="name">input</span> <span class="attr">class</span>=<span class="string">"bottom-input"</span> <span class="attr">type</span>=<span class="string">"text"</span> <span class="attr">id</span>=<span class="string">"edit-field-ge-address-und-0-value"</span> <span class="attr">name</span>=<span class="string">"field_ge_address[und][0][value]"</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></div></pre></td></tr></table></figure>
<h2 id="7-医院选择控件"><a href="#7-医院选择控件" class="headerlink" title="7.医院选择控件"></a><a name="医院选择控件"></a>7.医院选择控件</h2><figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div></pre></td><td class="code"><pre><div class="line"></div><div class="line"><span class="comment">// 桌面版医院</span></div><div class="line"><span class="keyword">var</span> cascadeHospital = <span class="keyword">new</span> Cascading.Desktop(&#123;</div><div class="line">     type: <span class="string">'hospital'</span>,</div><div class="line">     data: <span class="string">'dataLocation2Level'</span>,</div><div class="line">     dataUrl: <span class="string">'http://assets.dxycdn.com/core/widgets/cascading-list-v2/data/location_2level.js?t=123'</span>,</div><div class="line">     panelNames: [<span class="string">'等级'</span>, <span class="string">'医院'</span>],</div><div class="line">     panelWidth: [<span class="string">'30'</span>, <span class="string">'70'</span>],</div><div class="line">     container: <span class="string">'cascading-hospital-container'</span>,</div><div class="line">     defaultSelected: [[<span class="string">'150000'</span>, <span class="string">'150600'</span>]],</div><div class="line">     ieFallback: <span class="literal">true</span>,</div><div class="line">     confirmCallback: <span class="function"><span class="keyword">function</span>(<span class="params">data</span>)</span>&#123;</div><div class="line">             $(<span class="string">'#edit-field-ge-hospital-und-0-value'</span>).next(<span class="string">'.error'</span>).hide();</div><div class="line">         $(<span class="string">'#edit-field-ge-hospital-und-0-value'</span>).val(data.name.join(<span class="string">','</span>));</div><div class="line">         <span class="keyword">if</span>(isIE8 &amp;&amp; $(<span class="string">'#edit-field-ge-hospital-und-0-value'</span>).val())&#123;</div><div class="line">             $(<span class="string">'#edit-field-ge-hospital-und-0-value'</span>).next(<span class="string">'span'</span>).hide();</div><div class="line">         &#125;</div><div class="line"></div><div class="line">     &#125;</div><div class="line"> &#125;);</div><div class="line">   $(<span class="string">'#edit-field-ge-hospital-und-0-value'</span>).on(<span class="string">'focus'</span>, <span class="function"><span class="keyword">function</span>(<span class="params">e</span>)</span>&#123;</div><div class="line">      cascadeHospital.open();</div><div class="line">      <span class="keyword">this</span>.blur();</div><div class="line">  &#125;);</div><div class="line">  <span class="comment">//移动版医院</span></div><div class="line"><span class="keyword">var</span> cascadeHospitalMobile = <span class="keyword">new</span> Cascading.Mobile(&#123;</div><div class="line">  type: <span class="string">'hospital'</span>,</div><div class="line">  container: <span class="string">'cascading-hospital-mobile-container'</span>,</div><div class="line">  additionClass: <span class="string">'cascading-hospital-mobile-container-custom'</span>,</div><div class="line">  data: <span class="string">'dataLocation2Level'</span>,</div><div class="line">  dataUrl: <span class="string">'http://assets.dxycdn.com/core/widgets/cascading-list-v2/data/location_2level.js?t=123'</span>,</div><div class="line">  panelNames: [<span class="string">'等级'</span>, <span class="string">'医院'</span>],</div><div class="line">  panelWidth: [<span class="string">'30'</span>, <span class="string">'70'</span>],</div><div class="line">  defaultSelected: [[<span class="string">'150000'</span>, <span class="string">'150600'</span>]],</div><div class="line">  ieFallback: <span class="literal">true</span>,</div><div class="line">  confirmCallback: <span class="function"><span class="keyword">function</span>(<span class="params">data</span>)</span>&#123;</div><div class="line">   $(<span class="string">'#edit-field-ge-hospital-und-0-value'</span>).val(data.name.join(<span class="string">','</span>));</div><div class="line">    $(<span class="string">'#edit-field-ge-hospital-und-0-value'</span>).next(<span class="string">'.error'</span>).hide();</div><div class="line"></div><div class="line">   <span class="keyword">if</span>(isIE8 &amp;&amp; $(<span class="string">'#edit-field-ge-hospital-und-0-value'</span>).val())&#123;</div><div class="line">       $(<span class="string">'#edit-field-ge-hospital-und-0-value'</span>).next(<span class="string">'span'</span>).hide();</div><div class="line">   &#125;</div><div class="line"></div><div class="line">&#125;</div><div class="line">&#125;);</div><div class="line"> $(<span class="string">'#edit-field-ge-hospital-und-0-value'</span>).on(<span class="string">'click'</span>, <span class="function"><span class="keyword">function</span>(<span class="params">e</span>)</span>&#123;</div><div class="line">    cascadeHospitalMobile.open();</div><div class="line">    <span class="keyword">this</span>.blur();</div><div class="line">&#125;);</div></pre></td></tr></table></figure>
<figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">            </div><div class="line">//HTML内容</div><div class="line"></div><div class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"bottom-input-box"</span>&gt;</span></div><div class="line">  <span class="tag">&lt;<span class="name">label</span> <span class="attr">for</span>=<span class="string">""</span>&gt;</span>医院<span class="tag">&lt;/<span class="name">label</span>&gt;</span></div><div class="line">  <span class="tag">&lt;<span class="name">input</span> <span class="attr">class</span>=<span class="string">"bottom-input"</span> <span class="attr">type</span>=<span class="string">"text"</span> <span class="attr">id</span>=<span class="string">"edit-field-ge-hospital-und-0-value"</span> <span class="attr">name</span>=<span class="string">"field_ge_hospital[und][0][value]"</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></div></pre></td></tr></table></figure>
<h2 id="8-科室选择控件"><a href="#8-科室选择控件" class="headerlink" title="8.科室选择控件"></a><a name="科室选择控件"></a>8.科室选择控件</h2><figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div></pre></td><td class="code"><pre><div class="line"></div><div class="line"><span class="comment">// 桌面版科室</span></div><div class="line"><span class="keyword">var</span> cascadeDepartment = <span class="keyword">new</span> Cascading.Desktop(&#123;</div><div class="line">   type: <span class="string">'department'</span>,</div><div class="line">   data: <span class="string">'dataDivision'</span>,</div><div class="line">   dataUrl: <span class="string">'http://assets.dxycdn.com/core/widgets/cascading-list-v2/data/division.js'</span>,</div><div class="line">   container: <span class="string">'cascading-department-container'</span>,</div><div class="line">   onlyLast: <span class="literal">true</span>,</div><div class="line">   additionClass: <span class="string">'cascading-department-container'</span>,</div><div class="line">   maxSelect: <span class="number">1</span>,</div><div class="line">   ieFallback: <span class="literal">true</span>,</div><div class="line">   panelNames: [<span class="string">'科室'</span>, <span class="string">'科室二级'</span>],</div><div class="line">   confirmCallback: <span class="function"><span class="keyword">function</span>(<span class="params">data</span>)</span>&#123;</div><div class="line">       $(<span class="string">'#edit-field-ge-section-und-0-value'</span>).next(<span class="string">'.error'</span>).hide();</div><div class="line">       $(<span class="string">'#edit-field-ge-section-und-0-value'</span>).val(data.pathName.join(<span class="string">'&gt;'</span>));</div><div class="line">       <span class="keyword">if</span>(isIE8 &amp;&amp; $(<span class="string">'#edit-field-ge-section-und-0-value'</span>).val())&#123;</div><div class="line">         $(<span class="string">'#edit-field-ge-section-und-0-value'</span>).next(<span class="string">'span'</span>).hide();</div><div class="line">      &#125;</div><div class="line"></div><div class="line">   &#125;</div><div class="line">&#125;);</div><div class="line"></div><div class="line">$(<span class="string">'#edit-field-ge-section-und-0-value'</span>).on(<span class="string">'focus'</span>, <span class="function"><span class="keyword">function</span>(<span class="params">e</span>)</span>&#123;</div><div class="line"> cascadeDepartment.open();</div><div class="line"> <span class="keyword">this</span>.blur();</div><div class="line">&#125;);</div><div class="line"><span class="comment">// 移动版科室</span></div><div class="line"><span class="keyword">var</span> cascadeDepartmentMobile = <span class="keyword">new</span> Cascading.Mobile(&#123;</div><div class="line">  type: <span class="string">'common'</span>,</div><div class="line">  data: <span class="string">'dataDivision'</span>,</div><div class="line">  dataUrl: <span class="string">'http://assets.dxycdn.com/core/widgets/cascading-list-v2/data/division.js'</span>,</div><div class="line">  container: <span class="string">'cascading-depart-mobile-container'</span>,</div><div class="line">  confirmCallback: <span class="function"><span class="keyword">function</span>(<span class="params">data</span>)</span>&#123;</div><div class="line">    $(<span class="string">'#edit-field-ge-section-und-0-value'</span>).val(data.pathName.join(<span class="string">'&gt;'</span>));</div><div class="line">    $(<span class="string">'#edit-field-ge-section-und-0-value'</span>).next(<span class="string">'.error'</span>).hide();</div><div class="line"></div><div class="line">    <span class="keyword">if</span>(isIE8 &amp;&amp; $(<span class="string">'#edit-field-ge-section-und-0-value'</span>).val())&#123;</div><div class="line">      $(<span class="string">'#edit-field-ge-section-und-0-value'</span>).next(<span class="string">'span'</span>).hide();</div><div class="line">    &#125;</div><div class="line"></div><div class="line">  &#125;</div><div class="line">&#125;);</div><div class="line"></div><div class="line">$(<span class="string">'#edit-field-ge-section-und-0-value'</span>).on(<span class="string">'focus'</span>, <span class="function"><span class="keyword">function</span>(<span class="params">e</span>)</span>&#123;</div><div class="line"> cascadeDepartmentMobile.open();</div><div class="line"> <span class="keyword">this</span>.blur();</div><div class="line">&#125;);</div></pre></td></tr></table></figure>
<figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">              </div><div class="line">//HTML内容</div><div class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"bottom-input-box"</span>&gt;</span></div><div class="line">  <span class="tag">&lt;<span class="name">label</span> <span class="attr">for</span>=<span class="string">""</span>&gt;</span>科室<span class="tag">&lt;/<span class="name">label</span>&gt;</span></div><div class="line">  <span class="tag">&lt;<span class="name">input</span> <span class="attr">class</span>=<span class="string">"bottom-input"</span> <span class="attr">type</span>=<span class="string">"text"</span> <span class="attr">id</span>=<span class="string">"edit-field-ge-section-und-0-value"</span> <span class="attr">name</span>=<span class="string">"field_ge_section[und][0][value]"</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></div></pre></td></tr></table></figure>
<h2 id="9-职称选择控件"><a href="#9-职称选择控件" class="headerlink" title="9.职称选择控件"></a><a name="职称选择控件"></a>9.职称选择控件</h2><figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div></pre></td><td class="code"><pre><div class="line"></div><div class="line"><span class="comment">// 桌面版职称</span></div><div class="line">   <span class="keyword">var</span> cascadeTitle = <span class="keyword">new</span> Cascading.Desktop(&#123;</div><div class="line">     type: <span class="string">'common'</span>,</div><div class="line">     data: <span class="string">'dataTitle'</span>,</div><div class="line">     dataUrl: <span class="string">'http://assets.dxycdn.com/core/widgets/cascading-list-v2/data/title.js'</span>,</div><div class="line">     container: <span class="string">'cascading-title-container'</span>,</div><div class="line">     additionClass: <span class="string">'test'</span>,</div><div class="line">     ieFallback: <span class="literal">true</span>,</div><div class="line">     confirmCallback: <span class="function"><span class="keyword">function</span>(<span class="params">data</span>)</span>&#123;</div><div class="line">        $(<span class="string">'[name="field_ge_jobtitle[und][0][value]"]'</span>).next(<span class="string">'.error'</span>).hide();</div><div class="line">         $(<span class="string">'[name="field_ge_jobtitle[und][0][value]"]'</span>).val(data.pathName[<span class="number">0</span>].join(<span class="string">'&gt;'</span>));</div><div class="line">         <span class="keyword">if</span>(isIE8 &amp;&amp; $(<span class="string">'[name="field_ge_jobtitle[und][0][value]"]'</span>).val())&#123;</div><div class="line">             $(<span class="string">'[name="field_ge_jobtitle[und][0][value]"]'</span>).next(<span class="string">'span'</span>).hide();</div><div class="line">         &#125;</div><div class="line"></div><div class="line">     &#125;</div><div class="line"> &#125;);</div><div class="line"></div><div class="line">$(<span class="string">'[name="field_ge_jobtitle[und][0][value]"]'</span>).on(<span class="string">'focus'</span>, <span class="function"><span class="keyword">function</span>(<span class="params">e</span>)</span>&#123;</div><div class="line"> cascadeTitle.open();</div><div class="line"> <span class="keyword">this</span>.blur();</div><div class="line">&#125;);</div><div class="line"><span class="comment">// 移动版职称</span></div><div class="line"><span class="keyword">var</span> cascadeTitleMobile = <span class="keyword">new</span> Cascading.Mobile(&#123;</div><div class="line">   type: <span class="string">'common'</span>,</div><div class="line">   data: <span class="string">'dataTitle'</span>,</div><div class="line">   dataUrl: <span class="string">'http://assets.dxycdn.com/core/widgets/cascading-list-v2/data/title.js'</span>,</div><div class="line">   container: <span class="string">'cascading-title-mobile-container'</span>,</div><div class="line">   additionClass: <span class="string">'test'</span>,</div><div class="line">   ieFallback: <span class="literal">true</span>,</div><div class="line">   confirmCallback: <span class="function"><span class="keyword">function</span>(<span class="params">data</span>)</span>&#123;</div><div class="line">     $(<span class="string">'[name="field_ge_jobtitle[und][0][value]"]'</span>).next(<span class="string">'.error'</span>).hide();</div><div class="line">     $(<span class="string">'[name="field_ge_jobtitle[und][0][value]"]'</span>).val(data.pathName[<span class="number">0</span>].join(<span class="string">'&gt;'</span>));</div><div class="line">     <span class="keyword">if</span>(isIE8 &amp;&amp; $(<span class="string">'[name="field_ge_jobtitle[und][0][value]"]'</span>).val())&#123;</div><div class="line">         $(<span class="string">'[name="field_ge_jobtitle[und][0][value]"]'</span>).next(<span class="string">'span'</span>).hide();</div><div class="line">     &#125;</div><div class="line"></div><div class="line"> &#125;</div><div class="line">&#125;);</div><div class="line"></div><div class="line">$(<span class="string">'[name="field_ge_jobtitle[und][0][value]"]'</span>).on(<span class="string">'focus'</span>, <span class="function"><span class="keyword">function</span>(<span class="params">e</span>)</span>&#123;</div><div class="line"> cascadeTitleMobile.open();</div><div class="line"> <span class="keyword">this</span>.blur();</div><div class="line">&#125;);</div></pre></td></tr></table></figure>
<figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">                    </div><div class="line">//HTML内容</div><div class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"bottom-input-box"</span>&gt;</span></div><div class="line">  <span class="tag">&lt;<span class="name">label</span> <span class="attr">for</span>=<span class="string">""</span>&gt;</span>职称<span class="tag">&lt;/<span class="name">label</span>&gt;</span></div><div class="line">  <span class="tag">&lt;<span class="name">input</span> <span class="attr">class</span>=<span class="string">"bottom-input"</span> <span class="attr">type</span>=<span class="string">"text"</span> <span class="attr">id</span>=<span class="string">"edit-field-ge-job-und-0-value"</span> <span class="attr">name</span>=<span class="string">"field_ge_jobtitle[und][0][value]"</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></div></pre></td></tr></table></figure>
<h2 id="10-判断是否移动端"><a href="#10-判断是否移动端" class="headerlink" title="10.判断是否移动端"></a><a name="判断是否移动端"></a>10.判断是否移动端</h2><figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line"></div><div class="line"><span class="keyword">var</span> isMobile = <span class="regexp">/mobile|dxyapp/i</span>.test(<span class="built_in">window</span>.navigator.userAgent);</div><div class="line"><span class="comment">//使用</span></div><div class="line"><span class="keyword">if</span>(isMobile)&#123;</div><div class="line">    <span class="comment">//do someting</span></div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h2 id="11-获取内页文章ID"><a href="#11-获取内页文章ID" class="headerlink" title="11.获取内页文章ID"></a><a name="获取内页文章ID"></a>11.获取内页文章ID</h2><figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line"></div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">getContentId</span>(<span class="params"></span>) </span>&#123;</div><div class="line">    <span class="keyword">var</span> match = $(<span class="string">'body'</span>).attr(<span class="string">'class'</span>).match(<span class="regexp">/page-node-(\d+)/</span>);</div><div class="line">    <span class="keyword">return</span> match ? match[<span class="number">1</span>] : <span class="number">-1</span>;</div><div class="line">&#125;;</div><div class="line"><span class="comment">//使用</span></div><div class="line"><span class="keyword">var</span> getId = getContentId();</div></pre></td></tr></table></figure>
<h2 id="12-validate插件扩展"><a href="#12-validate插件扩展" class="headerlink" title="12.validate插件扩展"></a><a name="validate插件扩展"></a>12.validate插件扩展</h2><figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div></pre></td><td class="code"><pre><div class="line"></div><div class="line"><span class="comment">//将该段代码写在validate.min.js最后来增加自定义扩展</span></div><div class="line">jQuery.extend(jQuery.validator.messages, &#123;</div><div class="line">    required: <span class="string">"此项必填"</span>,</div><div class="line">    chineseName: <span class="string">"请输入正确的中文名"</span>,</div><div class="line">    mobileNumber: <span class="string">"请输入正确的手机号码"</span>,</div><div class="line">    remote: <span class="string">"请重新输入"</span>,</div><div class="line">    email: <span class="string">"请输入正确的电子邮件"</span>,</div><div class="line">    url: <span class="string">"请输入正确的网址"</span>,</div><div class="line">    date: <span class="string">"请输入正确的日期"</span>,</div><div class="line">    dateISO: <span class="string">"请输入正确的日期"</span>,</div><div class="line">    number: <span class="string">"请输入正确的数字"</span>,</div><div class="line">    digits: <span class="string">"只能输入整数"</span>,</div><div class="line">    creditcard: <span class="string">"请输入正确的信用卡号"</span>,</div><div class="line">    equalTo: <span class="string">"请再输一次"</span>,</div><div class="line">    accept: <span class="string">"不支持上传该附件类型"</span>,</div><div class="line">    filesize:<span class="string">"文件太大"</span>,</div><div class="line">    maxlength: jQuery.validator.format(<span class="string">"长度最多为 &#123;0&#125; 位"</span>),</div><div class="line">    minlength: jQuery.validator.format(<span class="string">"长度最少为 &#123;0&#125;位"</span>),</div><div class="line">    rangelength: jQuery.validator.format(<span class="string">"长度介于 &#123;0&#125; 位和 &#123;1&#125; 位之间"</span>),</div><div class="line">    range: jQuery.validator.format(<span class="string">"大小介于 &#123;0&#125; 和 &#123;1&#125; 之间"</span>),</div><div class="line">    max: jQuery.validator.format(<span class="string">"最大为 &#123;0&#125; "</span>),</div><div class="line">    min: jQuery.validator.format(<span class="string">"最小为 &#123;0&#125; "</span>)</div><div class="line">&#125;);</div><div class="line"></div><div class="line"><span class="comment">// 中文名</span></div><div class="line">jQuery.validator.addMethod(<span class="string">"chineseName"</span>, <span class="function"><span class="keyword">function</span>(<span class="params">value, element</span>) </span>&#123;</div><div class="line">    <span class="keyword">return</span> <span class="keyword">this</span>.optional(element) || <span class="regexp">/^[\u4E00-\u9FA5]&#123;2,5&#125;$/</span>.test(value);</div><div class="line">&#125;, <span class="string">'请输入正确的中文名'</span>);</div><div class="line"></div><div class="line"><span class="comment">// 手机号码</span></div><div class="line">jQuery.validator.addMethod(<span class="string">"mobileNumber"</span>, <span class="function"><span class="keyword">function</span>(<span class="params">value, element</span>) </span>&#123;</div><div class="line">    <span class="keyword">return</span> <span class="keyword">this</span>.optional(element) || <span class="regexp">/^(13[0-9]|15[0-35-9]|18[0-9]|17[06-8]|14[57])\d&#123;8&#125;$/</span>.test(value);</div><div class="line">&#125;, <span class="string">'请输入正确的手机号码'</span>);</div><div class="line"></div><div class="line"><span class="comment">//电话的验证      </span></div><div class="line">jQuery.validator.addMethod(<span class="string">"isPhone"</span>,<span class="function"><span class="keyword">function</span>(<span class="params">value,element</span>) </span>&#123; </div><div class="line">        <span class="keyword">var</span> length = value.length;   </div><div class="line">        <span class="keyword">var</span> mobile = <span class="regexp">/^(13[0-9]|15[0-35-9]|18[0-9]|17[06-8]|14[57])\d&#123;8&#125;$/</span>;   </div><div class="line">        <span class="keyword">var</span> tel = <span class="regexp">/^((\(\d&#123;2,3&#125;\))|(\d&#123;3&#125;\-))?(\(0\d&#123;2,3&#125;\)|0\d&#123;2,3&#125;-)?[1-9]\d&#123;6,7&#125;(\-\d&#123;1,4&#125;)?$/</span>;   </div><div class="line">        <span class="keyword">return</span> <span class="keyword">this</span>.optional(element) || (tel.test(value) ||  (length == <span class="number">11</span> &amp;&amp; mobile.test(value))); </div><div class="line">&#125;, <span class="string">"请输入正确的联系电话"</span>);</div><div class="line"></div><div class="line">jQuery.validator.addMethod(<span class="string">"extension"</span>, <span class="function"><span class="keyword">function</span>(<span class="params">value, element, param</span>) </span>&#123;</div><div class="line">    param = <span class="keyword">typeof</span> param === <span class="string">"string"</span> ? param.replace(<span class="regexp">/,/g</span>, <span class="string">'|'</span>) : <span class="string">"png|jpe?g|gif"</span>;</div><div class="line">    <span class="keyword">return</span> <span class="keyword">this</span>.optional(element) || value.match(<span class="keyword">new</span> <span class="built_in">RegExp</span>(<span class="string">"\\.("</span> + param + <span class="string">")$"</span>, <span class="string">"i"</span>));</div><div class="line">&#125;, jQuery.format(<span class="string">"请选择正确的文件格式"</span>));</div><div class="line"></div><div class="line"><span class="comment">//邮编 </span></div><div class="line">jQuery.validator.addMethod(<span class="string">"postcode"</span>, <span class="function"><span class="keyword">function</span>(<span class="params">value, element</span>) </span>&#123;</div><div class="line">    <span class="keyword">return</span> <span class="keyword">this</span>.optional(element) || <span class="regexp">/^[1-9]\d&#123;5&#125;$/</span>.test(value);</div><div class="line">&#125;, <span class="string">'请输入正确的邮编'</span>);</div><div class="line"><span class="comment">//身份证 </span></div><div class="line">jQuery.validator.addMethod(<span class="string">"identitycard"</span>, <span class="function"><span class="keyword">function</span>(<span class="params">value, element</span>) </span>&#123;</div><div class="line">    <span class="keyword">return</span> <span class="keyword">this</span>.optional(element) || <span class="regexp">/^(\d&#123;15&#125;$|^\d&#123;18&#125;$|^\d&#123;17&#125;(\d|X|x))$/</span>.test(value);</div><div class="line">&#125;, <span class="string">'请输入正确的身份证号'</span>);</div><div class="line"><span class="comment">//文件大小</span></div><div class="line">$.validator.addMethod(<span class="string">'filesize'</span>, <span class="function"><span class="keyword">function</span>(<span class="params">value, element, param</span>) </span>&#123;</div><div class="line">    <span class="comment">//以bytes为单位</span></div><div class="line">    <span class="keyword">return</span> <span class="keyword">this</span>.optional(element) || (element.files[<span class="number">0</span>].size &lt;= param) </div><div class="line">&#125;);</div><div class="line"></div><div class="line"><span class="comment">//改变错误提示的标签</span></div><div class="line">jQuery.validator.defaults.errorElement = <span class="string">'span'</span>;</div></pre></td></tr></table></figure>
<h2 id="13-validate插件使用"><a href="#13-validate插件使用" class="headerlink" title="13.validate插件使用"></a><a name="validate插件使用"></a>13.validate插件使用</h2><figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div></pre></td><td class="code"><pre><div class="line"></div><div class="line"><span class="keyword">var</span> caseForm = $(<span class="string">'表单'</span>); <span class="comment">//获取表单元素</span></div><div class="line"><span class="keyword">if</span>(!caseForm.length) &#123;</div><div class="line">          <span class="keyword">return</span>;</div><div class="line">  &#125;</div><div class="line">  caseForm.validate(&#123;</div><div class="line">      focusCleanup:<span class="literal">true</span>,</div><div class="line">      rules: &#123;</div><div class="line">        <span class="comment">//这里的title均为name属性值</span></div><div class="line">          <span class="string">'title'</span>: &#123;required: <span class="literal">true</span>&#125;,</div><div class="line">          <span class="string">'field_realname[und][0][value]'</span>: &#123;required: <span class="literal">true</span>&#125;,</div><div class="line">          <span class="string">'field_job[und][0][value]'</span>: &#123;required: <span class="literal">true</span>&#125;,</div><div class="line">          <span class="string">'field_address[und][0][value]'</span>: &#123;required: <span class="literal">true</span>&#125;,</div><div class="line">          <span class="string">'field_phone[und][0][value]'</span>: &#123;required: <span class="literal">true</span>, mobileNumber: <span class="literal">true</span>&#125;,</div><div class="line">          <span class="string">'field_location[und][0][value]'</span>: &#123;required: <span class="literal">true</span>&#125;,</div><div class="line">          <span class="string">'field_company[und][0][value]'</span>: &#123;required: <span class="literal">true</span>&#125;,</div><div class="line">          <span class="string">'field_department[und][0][value]'</span>: &#123;required: <span class="literal">true</span>&#125;,</div><div class="line">          <span class="string">'field_email[und][0][value]'</span>: &#123;required: <span class="literal">true</span>, email: <span class="literal">true</span>&#125;,</div><div class="line">          <span class="string">'files[field_file_und_0]'</span>: &#123;required: <span class="literal">true</span>,accept:<span class="string">'docx|doc|pdf|ppt|pptx'</span>,filesize:<span class="number">20971520</span>&#125;</div><div class="line">      &#125;,</div><div class="line">      messages: &#123;</div><div class="line">          <span class="string">'title'</span>: &#123;</div><div class="line">              required: <span class="string">'请输入标题'</span></div><div class="line">          &#125;,</div><div class="line">          <span class="string">'field_realname[und][0][value]'</span>: &#123;</div><div class="line">              required: <span class="string">'请输入姓名'</span></div><div class="line">          &#125;,</div><div class="line">          <span class="string">'field_job[und][0][value]'</span>: &#123;</div><div class="line">              required: <span class="string">'请输入职称'</span></div><div class="line">          &#125;,</div><div class="line">          <span class="string">'field_address[und][0][value]'</span>: &#123;</div><div class="line">              required: <span class="string">'请输入通讯地址'</span></div><div class="line">          &#125;,</div><div class="line">          <span class="string">'field_phone[und][0][value]'</span>: &#123;</div><div class="line">              required: <span class="string">'请输入电话或者手机号码'</span></div><div class="line">          &#125;,</div><div class="line">          <span class="string">'field_location[und][0][value]'</span>: &#123;</div><div class="line">              required: <span class="string">'请选择地区'</span></div><div class="line">          &#125;,</div><div class="line">          <span class="string">'field_company[und][0][value]'</span>: &#123;</div><div class="line">              required: <span class="string">'请选择工作单位'</span></div><div class="line">          &#125;,</div><div class="line">          <span class="string">'field_department[und][0][value]'</span>: &#123;</div><div class="line">              required: <span class="string">'请选择所在科室'</span></div><div class="line">          &#125;,</div><div class="line">          <span class="string">'field_email[und][0][value]'</span>: &#123;</div><div class="line">              required: <span class="string">'请输入电子邮箱'</span></div><div class="line">          &#125;,</div><div class="line">          <span class="string">'files[field_file_und_0]'</span>: &#123;</div><div class="line">              required: <span class="string">'请上传文件'</span>,</div><div class="line">              accept:<span class="string">'不支持该文件类型'</span>,</div><div class="line">              filesize:<span class="string">'文件太大'</span></div><div class="line">          &#125;</div><div class="line">      &#125;,</div><div class="line">      errorPlacement: <span class="function"><span class="keyword">function</span>(<span class="params">error, element</span>)</span>&#123;</div><div class="line">          error.appendTo(element.closest(<span class="string">'放置错误信息的容器'</span>));</div><div class="line">      &#125;,</div><div class="line">      submitHandler:<span class="function"><span class="keyword">function</span>(<span class="params">form</span>)</span></div><div class="line">      &#123;</div><div class="line">          form.submit();</div><div class="line">      &#125;</div><div class="line">  &#125;);</div></pre></td></tr></table></figure>
<h2 id="14-bxslider轮播图使用"><a href="#14-bxslider轮播图使用" class="headerlink" title="14.bxslider轮播图使用"></a><a name="bxslider轮播图使用"></a>14.bxslider轮播图使用</h2><figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div></pre></td><td class="code"><pre><div class="line"></div><div class="line"><span class="built_in">require</span>(<span class="string">'../lib/jquery.bxslider.js'</span>);</div><div class="line"></div><div class="line"><span class="keyword">var</span> slider = $(<span class="string">'放置轮播图的容器'</span>);</div><div class="line"><span class="keyword">if</span> (slider.length) &#123;</div><div class="line">    slider.bxSlider(&#123;</div><div class="line">        auto:<span class="literal">true</span>,</div><div class="line">        minSlides: <span class="number">1</span>,</div><div class="line">        maxSlides: <span class="number">1</span>,</div><div class="line">        moveSlides: <span class="number">1</span>,</div><div class="line">        adaptiveHeight: <span class="literal">true</span></div><div class="line">    &#125;);</div><div class="line">&#125;</div><div class="line"><span class="comment">//详细API请见官网</span></div></pre></td></tr></table></figure>
<h2 id="15-一般选项卡"><a href="#15-一般选项卡" class="headerlink" title="15.一般选项卡"></a><a name="一般选项卡"></a>15.一般选项卡</h2><figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"></div><div class="line">$(<span class="string">'.tab .title'</span>).click(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</div><div class="line">    $(<span class="keyword">this</span>).addClass(<span class="string">'active'</span>).siblings().removeClass(<span class="string">'active'</span>);</div><div class="line">    $(<span class="string">'.tab .content'</span>).eq($(<span class="keyword">this</span>).index()).show().siblings().hide();</div><div class="line">&#125;).eq(<span class="number">0</span>).click();</div></pre></td></tr></table></figure>
<figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div></pre></td><td class="code"><pre><div class="line">      </div><div class="line">//HTML</div><div class="line"></div><div class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"tab"</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"title"</span>&gt;</span>title-1<span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"title"</span>&gt;</span>title-2<span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"title"</span>&gt;</span>title-3<span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"container"</span>&gt;</span></div><div class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"content"</span>&gt;</span>content-1<span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"content"</span>&gt;</span>content-2<span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"content"</span>&gt;</span>content-3<span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></div></pre></td></tr></table></figure>
<h2 id="16-新窗口打开页面"><a href="#16-新窗口打开页面" class="headerlink" title="16.    新窗口打开页面"></a><a name="新窗口打开页面"></a>16.    新窗口打开页面</h2><figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"></div><div class="line">//<span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"http://zanseven007.github.io"</span> <span class="attr">rel</span>=<span class="string">"external"</span>&gt;</span>open link<span class="tag">&lt;/<span class="name">a</span>&gt;</span></div></pre></td></tr></table></figure>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line"></div><div class="line">$(<span class="built_in">document</span>).ready(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</div><div class="line">  $(<span class="string">"a[rel$='external']"</span>).click(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</div><div class="line">    <span class="keyword">this</span>.target=<span class="string">'_blank'</span>;    </div><div class="line">  &#125;)</div><div class="line">&#125;)</div></pre></td></tr></table></figure>
<h2 id="17-滚动到指定位置滑动动画"><a href="#17-滚动到指定位置滑动动画" class="headerlink" title="17. 滚动到指定位置滑动动画"></a><a name="滚动到指定位置滑动动画"></a>17. 滚动到指定位置滑动动画</h2><figure class="highlight"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line"></div><div class="line">jQuery.fn.scrollTo = function(speed)&#123;</div><div class="line">  var targetOffset = $(this).offset().top;</div><div class="line">  $(html,body).stop().animate(&#123;scrollTop: targetOffset&#125;, speed);</div><div class="line">&#125;</div><div class="line">//使用</div><div class="line"> $(#goTop).click(function()&#123;</div><div class="line">  $(body).scrollTo(500); //返回顶部</div><div class="line">&#125;)</div></pre></td></tr></table></figure>
<h2 id="18-对话框控件使用"><a href="#18-对话框控件使用" class="headerlink" title="18.对话框控件使用"></a><a name="对话框控件使用"></a>18.对话框控件使用</h2><figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line"></div><div class="line"><span class="keyword">var</span> Dialog = <span class="built_in">require</span>(<span class="string">'./tool/dialog.js'</span>);</div><div class="line">Dialog.show();</div><div class="line">Dialog.alert();</div><div class="line">Dialog.hide();</div><div class="line">Dialog.tip();</div><div class="line"><span class="comment">//四个方法</span></div></pre></td></tr></table></figure>
<p>现在已经被范同学优化,详细请见<a href="https://github.com/dxy-biz-developer/dxy-dialog" target="_blank" rel="external">dxy-dialog</a>    </p>
<h2 id="19-移动端PPT使用"><a href="#19-移动端PPT使用" class="headerlink" title="19.移动端PPT使用"></a><a name="移动端PPT使用"></a>19.移动端PPT使用</h2><figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div></pre></td><td class="code"><pre><div class="line"></div><div class="line"><span class="keyword">var</span> flash = $(<span class="string">'.放置容器 iframe, .放置容器 object'</span>);  <span class="comment">//获取PPT元素</span></div><div class="line"><span class="keyword">if</span> (isMobile &amp;&amp; flash.length) &#123;</div><div class="line">    <span class="keyword">var</span> js = <span class="string">'http://assets.dxycdn.com/templates/core/third-party/mobile-ppt/mobile-ppt.min.js'</span>;</div><div class="line">    $.getScript(js, <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</div><div class="line">        MobilePPT.init(<span class="string">'biz'</span>, &#123;</div><div class="line">            flash: flash,</div><div class="line">            dataUrlBuilder: <span class="function"><span class="keyword">function</span> (<span class="params">nid</span>) </span>&#123;</div><div class="line">                <span class="keyword">return</span> <span class="string">'http://www.dxy.cn/topic/biz/ppt地址/'</span> + nid + <span class="string">'/ps-data.js'</span>;  <span class="comment">//有一个用node.js写的转换工具，需要向编辑人员要取PPT里面的所有图片，通过转换工具转换后将转换后的内容上传到FTP上，然后地址填写在这里即可</span></div><div class="line">            &#125;</div><div class="line">        &#125;);</div><div class="line">    &#125;);</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h2 id="20-即将离开丁香园提示框"><a href="#20-即将离开丁香园提示框" class="headerlink" title="20.即将离开丁香园提示框"></a><a name="即将离开丁香园提示框"></a>20.即将离开丁香园提示框</h2><figure class="highlight"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div><div class="line">72</div><div class="line">73</div><div class="line">74</div><div class="line">75</div><div class="line">76</div></pre></td><td class="code"><pre><div class="line"></div><div class="line">//css</div><div class="line">.page-go-cmeflist .mask&#123; </div><div class="line">    position: fixed;</div><div class="line">    top: 0;</div><div class="line">    right: 0;</div><div class="line">    left: 0;</div><div class="line">    bottom: 0;</div><div class="line">    background: #000;filter:alpha(opacity=50); opacity: .6; z-index: 233333;</div><div class="line"> &#125;</div><div class="line">.link__panel&#123;</div><div class="line">    width: 400px;</div><div class="line">    height: auto;</div><div class="line">    background: #fff;</div><div class="line">    border-radius: 5px;</div><div class="line">    box-shadow: 0 0 0 #555;</div><div class="line">    border: 1px solid #999;</div><div class="line">    position: fixed;</div><div class="line">    top: 50%;</div><div class="line">    left: 50%;</div><div class="line">    margin-left: -200px;</div><div class="line">    z-index: 2333333;</div><div class="line">    margin-top: -100px;</div><div class="line">&#125;</div><div class="line">.link__panel .close&#123;</div><div class="line">    position: absolute;</div><div class="line">    width: 40px;</div><div class="line">    height: 40px;</div><div class="line">    top: 0;</div><div class="line">    right: 5px;</div><div class="line">    background: url(../img/icon-close.png?t=20160126) no-repeat center center;</div><div class="line">    cursor: pointer;</div><div class="line">&#125;</div><div class="line">.link__panel_header&#123;</div><div class="line">    height: 40px;</div><div class="line">    border-bottom: 1px solid #ddd;</div><div class="line">    padding: 0 15px;</div><div class="line">    line-height: 40px;</div><div class="line">    font-size: 14px;</div><div class="line">    color: #666;</div><div class="line">&#125;</div><div class="line"></div><div class="line">.link__panel_body&#123;</div><div class="line">    height: auto;</div><div class="line">    border-bottom: 1px solid #ddd;</div><div class="line">    padding: 15px;</div><div class="line">    line-height: 1.8;</div><div class="line">    font-size: 14px;</div><div class="line">    color: #666;</div><div class="line">&#125;</div><div class="line">.link__panel_body a&#123;</div><div class="line">    color: #4299D8;</div><div class="line">    display: block;</div><div class="line">&#125;</div><div class="line">.link__panel_footer&#123;</div><div class="line">    font-size: 14px;</div><div class="line">    text-align: right;</div><div class="line">    padding: 15px;</div><div class="line">&#125;</div><div class="line">.link__panel_footer .btn&#123;</div><div class="line">    padding: 3px 10px;</div><div class="line">    border: 1px solid #ddd;</div><div class="line">    display: inline-block;</div><div class="line">    vertical-align: top;</div><div class="line">    font-weight: 500;</div><div class="line">    border-radius: 3px;</div><div class="line">    margin-right: 10px;</div><div class="line">&#125;</div><div class="line">.link__panel_footer .btn-goon&#123;</div><div class="line">    background: #4299D8;</div><div class="line">    color: #fff;</div><div class="line">&#125;</div><div class="line">.link__panel_footer .btn-close&#123;</div><div class="line">    background: #eee;</div><div class="line">    color: #666;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div></pre></td><td class="code"><pre><div class="line"></div><div class="line"><span class="comment">// js</span></div><div class="line">$(<span class="string">'a标签的父级元素'</span>).on(<span class="string">'click'</span>, <span class="string">'a'</span>, <span class="function"><span class="keyword">function</span>(<span class="params">event</span>) </span>&#123;</div><div class="line">    event.preventDefault();</div><div class="line">    <span class="keyword">var</span> link = $(<span class="keyword">this</span>).attr(<span class="string">'href'</span>),</div><div class="line">        text = $(<span class="keyword">this</span>).html();</div><div class="line">    $(<span class="string">'body'</span>).append(<span class="string">'&lt;div class="mask"&gt;&lt;/div&gt;'</span>+</div><div class="line">        <span class="string">'&lt;div class="link__panel"&gt;'</span>+</div><div class="line">            <span class="string">'&lt;div class="close"&gt;&lt;/div&gt;'</span>+</div><div class="line">            <span class="string">'&lt;div class="link__panel_header"&gt;提示：&lt;/div&gt;'</span>+</div><div class="line">            <span class="string">'&lt;div class="link__panel_body"&gt;你将离开丁香园，进入其他页面:&lt;br&gt; &lt;a href="'</span>+ link +<span class="string">'"&gt;'</span>+ link +<span class="string">'&lt;/a&gt;&lt;/div&gt;'</span>+</div><div class="line">            <span class="string">'&lt;div class="link__panel_footer"&gt;'</span>+</div><div class="line">                <span class="string">'&lt;a href="'</span>+ link +<span class="string">'" class="btn  btn-goon"&gt;继续访问&lt;/a&gt;'</span>+</div><div class="line">                <span class="string">'&lt;a href="" class="btn  btn-close"&gt;关闭&lt;/a&gt;'</span>+</div><div class="line">            <span class="string">'&lt;/div&gt;'</span>+</div><div class="line">        <span class="string">'&lt;/div&gt;'</span>);</div><div class="line">    $(<span class="string">'.link__panel .close, .link__panel .btn-close'</span>).on(<span class="string">'click'</span>, <span class="function"><span class="keyword">function</span>(<span class="params">event</span>) </span>&#123;</div><div class="line">        event.preventDefault();</div><div class="line">        $(<span class="string">'.mask, .link__panel'</span>).remove();</div><div class="line">    &#125;);</div><div class="line">&#125;);</div></pre></td></tr></table></figure>
<h2 id="21-滚动条插件"><a href="#21-滚动条插件" class="headerlink" title="21.滚动条插件"></a><a name="滚动条插件"></a>21.滚动条插件</h2><figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> IScroll  = <span class="built_in">require</span>(<span class="string">'./lib/iscroll.js'</span>);</div><div class="line"></div><div class="line">  <span class="function"><span class="keyword">function</span> <span class="title">initActivityIntro</span>(<span class="params"></span>) </span>&#123;</div><div class="line"></div><div class="line">    <span class="keyword">var</span> el = $(<span class="string">'.process__pic'</span>);</div><div class="line">    <span class="keyword">var</span> inel = $(<span class="string">'.info'</span>);</div><div class="line">    <span class="keyword">if</span> (el.length) &#123;</div><div class="line">      <span class="keyword">new</span> IScroll(el[<span class="number">0</span>], &#123;</div><div class="line">        scrollbars: <span class="literal">true</span>,</div><div class="line">        scrollX:<span class="literal">true</span></div><div class="line">      &#125;);</div><div class="line">      &#125;</div><div class="line">    &#125;</div><div class="line">initActivityIntro();</div></pre></td></tr></table></figure>
<h2 id="22-微信分享"><a href="#22-微信分享" class="headerlink" title="22.微信分享"></a><a name="微信分享"></a>22.微信分享</h2><figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> dxy_wechat_share = <span class="built_in">require</span>(<span class="string">'dxy-wechat-share'</span>);</div><div class="line"></div><div class="line"><span class="built_in">window</span>.wx_share = <span class="string">'callback(具体地址看项目)'</span>;</div><div class="line">dxy_wechat_share(&#123;</div><div class="line">  title:<span class="string">'这是一个标题'</span>,</div><div class="line">  desc:<span class="string">'这是一个摘要第一行\n这是一个摘要第二行'</span>,</div><div class="line">  imgUrl:<span class="string">'这是一个分享图片地址'</span></div><div class="line">&#125;);</div></pre></td></tr></table></figure>
<h2 id="23-移动端多行显示省略号"><a href="#23-移动端多行显示省略号" class="headerlink" title="23.移动端多行显示省略号"></a><a name="移动端多行显示省略号"></a>23.移动端多行显示省略号</h2><p><code>display: -webkit-box;</code> 必须结合的属性 ，将对象作为弹性伸缩盒子模型显示 。<br><code>-webkit-box-orient</code> 必须结合的属性 ，设置或检索伸缩盒对象的子元素的排列方式 。<br><code>text-overflow: ellipsis;</code>，可以用来多行文本的情况下，用省略号“…”隐藏超出范围的文本 </p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"><span class="selector-tag">overflow</span> : <span class="selector-tag">hidden</span>;</div><div class="line"><span class="selector-tag">text-overflow</span>: <span class="selector-tag">ellipsis</span>;</div><div class="line"><span class="selector-tag">display</span>: <span class="selector-tag">-webkit-box</span>;</div><div class="line"><span class="selector-tag">-webkit-line-clamp</span>: 2;</div><div class="line"><span class="selector-tag">-webkit-box-orient</span>: <span class="selector-tag">vertical</span>;</div></pre></td></tr></table></figure>
<h2 id="24-iframe高度自适应"><a href="#24-iframe高度自适应" class="headerlink" title="24.iframe高度自适应"></a><a name="iframe高度自适应"></a>24.iframe高度自适应</h2><p>在商业项目中引入丁香客的微话题使用,请先 <code>npm install iframe-auto-height --save</code> 安装跑路宗坤写的一个包。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="comment">//在合适的地方引用，这个控件有个bug</span></div><div class="line"><span class="comment">//需要在parent.js里面跳过第一次执行onmessage函数，需从第二次开始执行</span></div><div class="line"><span class="keyword">var</span> AutoHeight = <span class="built_in">require</span>(<span class="string">'iframe-auto-height/parent'</span>);</div><div class="line"><span class="keyword">new</span> AutoHeight();</div></pre></td></tr></table></figure>
      
    </div>
    
  </div>
  
    
<nav id="article-nav">
  
    <a href="/2016/09/12/dns解析二级域名到github-pages/" id="article-nav-newer" class="article-nav-link-wrap">
      <strong class="article-nav-caption"><</strong>
      <div class="article-nav-title">
        
          dns解析二级域名到github pages
        
      </div>
    </a>
  
  
    <a href="/2016/09/09/整理与一次团队分享/" id="article-nav-older" class="article-nav-link-wrap">
      <div class="article-nav-title">整理与一次团队分享</div>
      <strong class="article-nav-caption">></strong>
    </a>
  
</nav>

  
</article>


<div class="share_jia">
	<!-- JiaThis Button BEGIN -->
	<div class="jiathis_style">
		<span class="jiathis_txt">分享到: &nbsp; </span>
		<a class="jiathis_button_facebook"></a> 
    <a class="jiathis_button_twitter"></a>
    <a class="jiathis_button_plus"></a> 
    <a class="jiathis_button_tsina"></a>
		<a class="jiathis_button_cqq"></a>
		<a class="jiathis_button_douban"></a>
		<a class="jiathis_button_weixin"></a>
		<a class="jiathis_button_tumblr"></a>
    <a href="http://www.jiathis.com/share" class="jiathis jiathis_txt jtico jtico_jiathis" target="_blank"></a>
	</div>
	<script type="text/javascript" src="http://v3.jiathis.com/code/jia.js?uid=1405949716054953" charset="utf-8"></script>
	<!-- JiaThis Button END -->
</div>






<div class="duoshuo">
	<!-- 多说评论框 start -->
	<div class="ds-thread" data-thread-key="丁香园工作中一些常用的代码" data-title="丁香园工作中一些常用的代码" data-url="http://blogpage.js.org/2016/09/09/丁香园工作中一些常用的代码/"></div>
	<!-- 多说评论框 end -->
	<!-- 多说公共JS代码 start (一个网页只需插入一次) -->
	<script type="text/javascript">
	var duoshuoQuery = {short_name:"true"};
	(function() {
		var ds = document.createElement('script');
		ds.type = 'text/javascript';ds.async = true;
		ds.src = (document.location.protocol == 'https:' ? 'https:' : 'http:') + '//static.duoshuo.com/embed.js';
		ds.charset = 'UTF-8';
		(document.getElementsByTagName('head')[0] 
		 || document.getElementsByTagName('body')[0]).appendChild(ds);
	})();
	</script>
	<!-- 多说公共JS代码 end -->
</div>




</div>
      <footer id="footer">
  <div class="outer">
    <div id="footer-info">
    	<div class="footer-left">
    		&copy; 2017 赞鱼鱼
    	</div>
      	<div class="footer-right">
      		<a href="http://hexo.io/" target="_blank">Hexo</a>  Theme <a href="https://github.com/litten/hexo-theme-yilia" target="_blank">Yilia</a> by Litten
      	</div>
    </div>
  </div>
</footer>
    </div>
    
  <link rel="stylesheet" href="/fancybox/jquery.fancybox.css">


<script>
	var yiliaConfig = {
		fancybox: true,
		mathjax: true,
		animate: true,
		isHome: false,
		isPost: true,
		isArchive: false,
		isTag: false,
		isCategory: false,
		open_in_new: false,
	}
</script>
<script src="//7.url.cn/edu/jslib/comb/require-2.1.6,jquery-1.9.1.min.js"></script>
<script src="/js/main.js"></script>






<script type="text/x-mathjax-config">
MathJax.Hub.Config({
    tex2jax: {
        inlineMath: [ ['$','$'], ["\\(","\\)"]  ],
        processEscapes: true,
        skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code']
    }
});

MathJax.Hub.Queue(function() {
    var all = MathJax.Hub.getAllJax(), i;
    for(i=0; i < all.length; i += 1) {
        all[i].SourceElement().parentNode.className += ' has-jax';                 
    }       
});
</script>

<script type="text/javascript" src="//cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
</script>


  </div>
</body>
</html>